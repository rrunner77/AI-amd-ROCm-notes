- install python 3.10.16 - I installed from deadsnakes (installed all packgages like "sudo apt install python3.10*")
  sudo add-apt-repository ppa:deadsnakes/ppa - or if you are too scared to use this repo you can compile from source.
  sudo apt install python3.10*
- wget https://repo.radeon.com/amdgpu-install/6.4.2.1/ubuntu/noble/amdgpu-install_6.4.60402-1_all.deb
  - sudo apt install ./amdgpu-install_6.4.60402-1_all.deb
  - sudo amdgpu-install --list-usecase
  - amdgpu-install -y --usecase=wsl,rocm --no-dkms
  - to check if it is working: "rocminfo"
  - You need to restart the WLS2 -> "sudo reboot"
- git clone https://github.com/comfyanonymous/ComfyUI.git
- cd ComfyUI
- python3.10 -m venv comfy-env
- python3.10 -m pip install --upgrade pip wheel
- pip3.10 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/rocm6.4/
On WLS:
- cp /opt/rocm/lib/libhsa-runtime64.so.1.15.60402 comfy-env/lib/python3.10/site-packages/torch/lib/libhsa-runtime64.so
- cp /opt/rocm/lib/libhsa-runtime64.so.1.15.60402 comfy-env/lib/python3.10/site-packages/triton/backends/amd/lib/libhsa-runtime64.so
- python3.10 main.py --listen --use-pytorch-cross-attention
